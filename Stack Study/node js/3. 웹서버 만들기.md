
웹서버는 클라이언트에게 웹사이트 컨텐츠를 전달한다
HTTP를 사용해서 통신 

# http requests

![[Pasted image 20240214201331.png]]

# GET Method  

GET 메소드는 URL 매개변수를 사용하여 서버에서 데이터를 요청합니다.  
웹에서 가장 일반적으로 사용되는 HTTP 방법입니다.  
GET 요청 매개변수는 이름-값 쌍으로 형식이 지정됩니다.

**www.google.com/search?q=nodejs  
**

이 예에서는 쿼리 매개변수 q를 사용하여 노드js에 대한 결과를 가져오도록 Google에 지시합니다.  
이에 대한 응답으로 Google은 검색 결과가 포함된 페이지를 반환합니다.

**GET 요청은 다음 사항들을 수행할 수 있습니다.**  

1. 서버에서 데이터 검색 - 일반적으로 웹 페이지

2. 길이 제한이 있는 서버로 데이터 보내기

3. 브라우저 기록에 남음  

4. 캐시가 됨

**GET 요청은 다음 사항들을 수행할 수 없습니다.**

1. 민감한 데이터(예: 비밀번호, 신용 카드 정보)를 처리

2. 서버에서 데이터 수정

# POST Method  

POST 메서드는 리소스(종종 데이터베이스 레코드)를 변경하기 위해 서버에 데이터를 보냅니다.  
  
POST 데이터는 사용자가 볼 수 없는 요청 본문으로 전송됩니다.  
  
다음은 POST 요청의 예입니다.  

POST /posts/1 HTTP/1.1  

  
**POST 요청은 다음을 수행할 수 있습니다.  
  
**1. 리소스 데이터, 즉 서버의 데이터 수정  
  
2. 민감한 데이터를 처리하는 데 사용  
  
3. 길이 제한 없이 데이터 보내기  
**  
POST 요청은 다음을 수행할 수 없습니다.  
**  
1. 캐시에 저장  
  
2. 브라우저 기록에 남기기



# PUT Method  vs PATCH Method

공통점

  

둘 다 어떠한 데이터를 수정하기 위해서 사용됩니다.  
  
차이점  
  

**PUT** : 데이터 **전체** 교체, 데이터 교체 시 모든 필드 필요 

  

**PATCH :** 데이터의 **부분** 교체, 데이터 교체 시 일부 필드 필요



# Stateless protocol
http 가 stateless다 

상태 비저장 프로토콜 
서버가 클라이언트에 대한 정보를 저장하지 않는다 
- 장점: 서버의 확장성이 높다 => 서버에 상태를 저장하지 않음으로 서버 확장에 용이하다 
- 단점: 클라이언트가 데이터를 추가 전송해야된다.
**********✅******** Stateless의 실무 한계**

● 모든 것을 Stateless로 설계하면 좋겠지만, 실무에서는 그 한계가 있다.

● 예를 들어 로그인한 사용자의 경우 로그인 했다는 상태를 서버에 유지할 필요가 있다.

● _웹 브라우저의 쿠키_, _서버 세션_ 등을 이용하여 상태(State)를 유지할 수 있다.

● 상태 유지는 최소한으로만 사용하자.

### [⛅️ HTTP는 Connectionless하다.](https://m42-orion.tistory.com/106#%E2%9B%85%EF%B8%8F%20HTTP%EB%8A%94%20Connectionless%ED%95%98%EB%8B%A4.-1)

**********✅******** Connection-oriented?**

● Connection-oriented(연결 유지) 모델은 클라이언트의 요청 & 서버의 응답 이후에도 연결을 계속 유지한다.

● 요청 & 응답 이후에도 연결을 계속 유지하기 때문에 서버의 자원을 계속 소모하게 된다.

![](https://blog.kakaocdn.net/dn/b1clG9/btrHOTSUGiX/i0hnl9h1FzPcLABgkxvTyk/img.png)

김영한님 자료 : 연결 유지 모델

**********✅******** Connectionless?**

● HTTP는 Connectionless한 특성이 있다.

● 클라이언트의 요청 & 서버의 응답 이후에는 연결을 종료한다.

● 1시간동안 수천명이 서비스를 사용해도, 실제 서버에서의 동시 처리 요청은 매우 적다. 

   따라서 서버 자원을 효율적으로 사용할 수 있다.

![](https://blog.kakaocdn.net/dn/ytDys/btrHOki9cly/hSCLEhZLVBLBolegsP9EZ1/img.png)

김영한님 자료 : 연결을 유지하지 않는 모델

**********✅******** Connectionless의 한계**

● TCP/IP 연결을 계속 새로 맺어야 한다 → 3-way handshake 시간이 소요된다.

● 사이트 요청 시 html, css, javascript, 이미지 등 많은 자원을 다운로드 → 자원마다 연결을 생성하기 때문에 overhead가 너무 크다.

**********✅******** Persistent Connection**

● 한 object를 보내고 연결을 끊는 것이 아니라, 일정 시간동안 동일한 TCP 연결을 사용하며 여러 개의 http request를 처리하는 방식.

![](https://blog.kakaocdn.net/dn/bPCYtz/btrHTE8G7AW/RNCGmniPNPnpUF8CVX8tAK/img.png)

김영한님 자료 : Persistent Connection사용자에 대한 정보나 상태를 유지하지 않는다

성능을 위해서 저장 안하는 것 

# http request / response 구조

## request 구조 
![[Pasted image 20240214202238.png]]

**HTTP Request의 구조**   
**1. Starter line** http method 종류, request target (url), http version 정보를 담고 있습니다.  
**2. Headers**   
Key:Value 값으로 해당 request에 대한 추가 정보를 담고 있습니다.   
**3. Body**   
해당 request가 전송하는 데이터가 담겨있는 부분입니다. 전송하려는 데이터가 없다면   
비어있게 됩니다.

![[Pasted image 20240214202304.png]]

**HTTP Response의 구조** **1. status line**   
HTTP version, Status Code, Status Text 을 나타냅니다.  
  
**2. headers** Request의 headers와 동일합니다.  
하지만 Response Headers에서만 쓰이는 값도 있습니다.  
  
**3. body** Response의 body와 일반적으로 동일합니다.

# HTTP status code 

## 상태코드 

요청이 성공했는데 오류 났는지 알려주는 것
![[Pasted image 20240214202424.png]]

**200 OK** 성공적인 HTTP 요청에 대한 표준 응답입니다.  
  
**201 Created** 요청이 성공적이었으며 그 결과로 새로운 리소스가 생성되었습니다. 이 응답은 일반적으로 POST 요청 또는 일부 PUT 요청 이후에 따라옵니다.

**204 No Content** 반환된 콘텐츠 없이 요청이 성공했습니다.

**301 Moved Permanently** 이 응답 코드는 요청한 리소스의 URI가 변경되었음을 의미합니다. 새로운 URI가 응답에서 아마도 주어질 수 있습니다

### 클라이언트로 인해 발생한 오류를 나타내는 상태 코드입니다.  
  
**400 Bad Request** 이 응답은 잘못된 문법으로 인하여 서버가 요청을 이해할 수 없음을 의미합니다.  
  
**401 Unauthorized** 요청은 유효하지만 서버가 응답하지 않습니다. 일반적으로 실패한 인증에 사용됩니다.  
  
**403 Forbidden** 클라이언트는 콘텐츠에 접근할 권리를 가지고 있지 않습니다. 예를 들어 그들은 미승인이어서 서버는 거절을 위한 적절한 응답을 보냅니다. 401과 다른 점은 서버가 클라이언트가 누구인지 알고 있습니다.  
  
**404 Not Found** 요청한 페이지를 서버에서 찾을 수 없습니다.

**409 Conflict** 이 응답은 요청이 현재 서버의 상태와 충돌될 때 보냅니다.

### 서버에서 오류가 발생했음을 나타내는 상태 코드입니다.  
  
**500 Internal Server Error** 특정 오류 메시지를 사용할 수 없을 때 표시되는 일반 오류 메시지

**503 Service Unavailable** 서버가 요청을 처리할 준비가 되지 않았습니다. 일반적인 원인은 유지보수를 위해 작동이 중단되거나 과부하가 걸렸을 때입니다.

# 웹 서버 생성하기 

