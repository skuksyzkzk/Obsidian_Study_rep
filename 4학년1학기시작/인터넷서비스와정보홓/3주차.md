
![[0x03-AccessControl.pdf]]

# Access control

Authentication과 authorization 

## Complete mediation
모든 메모리 접근에 대해 cpu가 관리 
쓰면 안되는 메모리 쓰면 seg falut 뜬다

Hw접근에 대해 kernel이 권한

User와 kernel 권한이 나눠진 seperation 그 조건도 만족 

# Policy Model

1. Confidentiality 
	1. 초기 컴퓨터 엑세스 컨트롤은 군대에서 나옴 
	2. MLS가 초기 
		1. 가장 기초적인 이론의 토대가 BLP
		2. 정보에 label을 붙이고 유저에게도 각 등급별 권한 부여한다
		3. 이런 방식이 MLS인것 주목적은 information flow를 막기위함
		4. unauthorizational reading 막는게 목적 
		5. clearance가 어느 단계 까지 접근가능한지
		6. *only Read Down, Writes Up*
		7. No write Down 
			1. 대통령이 중요하지 않는 단계에 write down되면 정보가 셀수가 있다 
			2. 실수로 할수있기에 
		8. MLS 방식 중에서 최근 사용
			1. DAC (discretionary)
				1. object의 접근을 사용자들에게 전부 맞긴다 
				2. 아이캠퍼스는 그러나 DAC 아니라 MAC
				3. *운영체제가 DAC* 
				4. Object owner에게 접근권한 다준다 
			2. 중앙통제방식이 MAC 
				1. 내가 object owner여도 안된다
				2. 군,icampus
			3. Role-based access control(RBAC)
				1. icampus도 RBAC의 일종 
				2. 이런 형태의 시스템을 쓰는 게 대기업 내부 시스템 관리 할때 디자인 팀이 접근,엔지니어팀이 접근 가능하는 것들이 다르다 
				3. Role에 따라서 접근 다르게 
					1. least privilege

# Access control implementation approaches 

## Access control Matrix 
가로 세로에 따라 

ACL 
- 누가 오브젝트에 접근가능한가 
- group permission 

Capabilities 
- 원래 파일에 달려있는 데 이건 유저가 뭘 접근할수있느냐 방식으로 동작 
- unix,linux는 확실히 acl 
- 







![[Tutorial Exploit Writing - 1. Automation.pdf]]

u 붙이는 이유 
- 서버 시스템이랑 연동되는데 리눅스에서 숫자로 시작하는 유저아이디 못만들어서 

# Reversing
리버싱을 도와주는 툴을 다운 받아야된다 
IDA Pro - 현업에서 가장 많이씀 무료버전 잘 안씀 
	-우리가 쓰기엔 ? 비싸다
Ghidra 

리버싱 툴이 잘되어있음 

GDB
- 플러그인 써면 비주얼화 잘되어있다 

파이썬으로 Scripting해야된다
프로그램이 취약점이 가진 state로 가기 위해선 자동화 필요 

파일을 받을때 취약점이 터지면 
로그인이런 것들을 자동으로 진행시키는 것 

악성 인풋을 전달해서 overflow일으키거나 공격 
ROP가 뭘까 

pwntool 이거 쓰면 된다 


1. 어떤 취약점 있나 분석 
2. 어떻게 공격점까지 가는 지를 스크립트로 구현 

print_flag라는 심볼을 실제로 읽어서 주소 저장 

process시발 

remote로 연결하는 건 실제로 풀때 
서버에 접속을해서 풀어야하니까 


gdb를 차일드 프로세스에 어태치 하고 
GDB 명령어를 자동으로 실행되게 스크립트로만드는 
568이 return 주소였다....

recvline()해서 한줄받고 send로 yes 보내서 자동화 

정규표현식으로 라인을 

Cyclic 저런 패턴을 만드는 이유 디버깅해야될때 실제 stack을 볼때
알아 볼수있는 패턴을 만드는 것 

그냥 stack 덮어쓰는 것 

코드 icampus에 올려서 템플핏으로 사용 
exploit writing은 복잡하지않다 이정도만  있으면 된다 .

# x86 리눅스 마련 
티먹스??pwn 파이썬 라이브러리 필요 