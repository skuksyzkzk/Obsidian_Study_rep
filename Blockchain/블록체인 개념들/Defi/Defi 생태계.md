
# Cefi(중앙화 거래소) VS Defi(탈중앙화거래소)

### Cefi(중앙화 거래소) Binance 

매수/매도 호가창(오더북) 존재 • 거래소 사용자들이 직접 매수/매도 가격을 입력한 것 • 거래 성립은 거래소 서버에서 이루어짐 • 내가 거래소에서 1BTC를 22,827USDT로 구매 했다고 하여 실제 블록체인에서 거래가 처리 된 것이 아님. • 거래소 계정에서 보이는 보유 코인은 내가 가지고 있는게 아닌 거래소 지갑에 존재 하는 것. • 거래소에서는 실제로 그만큼의 코인을 가지고 있지 않을 수 있음. 따라서 내 개인 지갑으로 출금 신청하면 시간이 걸린다. • 거래에 따라 블록체인에 납부하는 수수료가 없기 때문에 자전거래가 무제한으로 가능

### Defi(탈중앙화 거래소) Uniswap

• 매수/매도 호가창(오더북) 존재하지 않음. • 매수/매도 가격은 AMM(Auto Market Maker)이라는 수식과 알고리즘 의해 결정됨. • 거래 성립은 블록체인 네트워크에서 바로 이루어짐. • 내가 거래소에서 1WBTC를 22,830USDT로 구매하면 바로 내 개인 지갑으로 들어옴. • 거래마다 블록체인 수수료를 지불해야 하기 때문에 무제한 자전 거래가 거의 불가능하다


# Defi 

## 거래소에서 중요한 것 

#### 유동성이 중요하다 

매수 매도 가격차이가 적다는 것은 거래에서 체결 가의 차이가 적은 것을 의미한다 .
사용자가 많을 수록 좋다 차익거래자의 역할도 중요 

유동성 조작이 Defi에서는 거의 불가능 실제로 넣어야 되기 떄문에
## 구성 요소 

### 유동성 공급자 

매수자가 토큰(코인)을 구매 할 수 있도록 물량을 제공하는 사람이 필요하다.
이를 유동성 공급자라고 한다 (LIquidity Provider) 
거래소가 유지되는 이유다.따라서 그들에게 합당한 보상이 제공되어야 한다 

### 보상 

LP에게는 보상이 필요하다. 그 이유는 유동성을 공급한다는 것은 내 돈(코인)이 묶여있다는 것이기에 유동성을 제공하고 보상을 받는다 보통 수수료나 LP토큰을 부여 받기도 한다.

### AMM (Auto Market Maker)
호가장 없이 거래를 결정하는 방식으로 토큰 가격을 결정할때는 여러가지 알고리즘으로 결정되어진다. 수식과 알고리즘으로 결정되어지는 방식 
LP Token, Slippage, Impermanent Lose와 같은 개념 과 로직들이 AMM을 이룬다.

### 거버넌스 토큰 

거버넌스 토큰은 필수 구성 요소는 아니지만 보상, 투표 등의 목적으로 거의 모든 디파이 서비스들에서 활용이 되고 있다

![[Pasted image 20240102174146.png]]

# AMM과 Swap에 활용되는 로직

❶ 가격결정 알고리즘

Swap에 있어 가장 핵심이라고 할 수 있는 것으로 토큰의 가격을 결정하는 알고리즘 예) CPMM, CMMM 등

대표적인 알고리즘으로는 CPMM이 있다. Constant Product Market Maker X ∗ Y = K X, Y는 각각 풀에 존재하는 토큰의 개수이다.(유동성 총량) K값은 Constant(상수)로 변하지 않는다. 풀 내의 두 토큰 유동성의 곱이 일정하다. 유니스왑에서 이거씀 

❷ Slippage  [[슬리피지]]

거래를 희망하는 가격과 실제 거래가 체결되는 가격 과의 차이 


❸ LP Token

풀에 유동성 공급을 하면 받게 되 는 전체 유동성에서 내가 차지하는 비율을 증명하는 토큰

❹ Impermanent Lost 

유동성 풀에 공급한 나의 유동성에 해당하는 가치가 변화하는 것이다. 한국어로 보통 ‘비영구적 손실’이라 고 부른다. 
![[Pasted image 20240102174822.png]]

![[Pasted image 20240102174844.png]]

• Impermanent Lose를 최소화 하는 방법은 페어의 두 토큰 가격이 유사하게 움직일 경우에 최소화 된다. • 스테이블 코인/코인의 경우에는 Impermanent Lose이 필연적으로 발생할 수 밖에 없다. • 스테이블 코인/스테이블 코인 페어 혹은 WETH/ETH와 같은 페어는 Impermanent Lose가 거의 없다. • 스테이블 코인을 이해하는 것은 디파이 및 블록체인 생태계에서 매우 중요하다

