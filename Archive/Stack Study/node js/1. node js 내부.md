
# 1. 작업을 처리하는 방법 

데이터 베이스 접근하거나 파일을 읽을려면 libuv가 처리 
일반적인 js 는 v8이 처리하고 이걸 node js가 바인딩해줌 

# 2. libuv 

이벤트 루프를 기반으로 하는 비동기 I/O를 지원 을 제공하는 다중 플랫폼 C 라이브러리 
각 플랫폼의 가장 빠른 비동기 IO 인터페이스로 통일된 코드로 돌릴 수 있다 

운영체제별로 따로 코드를 안짜도 안에서 내부에서 알아서 처리함 

# 3. 동기 비동기

### 동기 
시간을 맞춤 
대학생 되는 법 
고등학교 1 2 3 -> 대학교 

### 비동기
시간을 맞추지 않음 
취직하는법
- 토익공부
- 자격증 취득
- 영어공부 

동기는 이전의 것이 끝나야 할 수 있음 

## 노드 js에서는 주로 비동기 사용
> 데이터 베이스에서 데이터를 읽을 때, 저장할 때,지울 때 등 대부분의 요청이 비동기로 이루어진다.왜냐하면 대부분 작업이 어느 정도의 시간을 요하기 때문에
> 여러개 작업을 해도 기다리지 않고 빠르게 다른 여러 작업 처리 가능 


## 자바스크립트는 synchronous 언어
js는 한줄 한줄 씩 실행하는 언어
js 이외의 도움을 받는거이기에 비동기 작업을 하는 것 

# 4. blocking non-blocking

## blocking 
Node js 에서 프로세스에서 추가 js 실행이 js가 아닌 작업이 완료될때까지 기다렸다가 실행해야된다
blocking동안에 이벤트루프가 js를 계속 실행 시킬수 없기떄문에 발생한다 

> blocking function
> JSON.stringfy함수 이런거 는 해당작업을 맞쳐야 다른작업 수행가능 
> 
## non-blocking

nodejs 표준 라이브러리는 모든 I/O 메소드는 non-blocking 및 callback 함수를 허용하는 비동기 버전을 제공한다 

### blocking 과 non blocking을 함께쓰면?
의도한 바와 다르게 순서로 실행 될 수 있다


# 5. 프로세스 및 쓰레드

## 프로세스와 스레드란 
### 프로세스
> 어떠한 일을 하고 있는 상태를 프로세스 동시성과 병렬성을 같이 이용해서 처리 

실행파일 클릭시 메모리 할당이 이루어지고 이순간부터 프로그램은 프로세스라고 불린다 


싱글 스레드 프로세스 => 프로세스 하나에 스레드 하나 /작업 속도가 느려질수있다 순차적으로 처리하니까

멀티 스레드 프로세스 => 프로세스 하나에 여러 스레드 
병렬적으로 여러 작업 동시 수행가능/스택만 할당받고 나머지는 공유
- 단점? 자원 공유시 접근에 신경써야된다 여러모로 관리해야될게 많다
### 스레드
하나의 카카오톡 프로그램 안에 알림도오고 채팅도치고 여러가지 일을한다
프로세스에서 일을 처리하는 세부 실행 단위

> 하나의 프로세스 안에서 스레드는 데이터를 공유한다 공유하면 더 빠르고 효율적으로 처리할 수 있으니까 
> 하지만 스레드들이 동시에 하나의 자원에 접근시 에러가 날수 있다 


# 6. 노드js가 비동기 작업을 처리 하는 법

js 는 싱글 스레드 
하지만 node js는 비동기로 파일열고 http리퀘스트도 가능하다 

노드는 libuv에서 제공하는 event Loop을 사용하기에 가능하다 

> [!info]
> 1. 코드가 호출 스택에 쌓인후 실행하되 그것이 비동기면 이벤트 루프는 비동기 작업을 위임 
> 2. Node를 구성하는 libuv는 해당 비동기 작업이 OS커널에서 할수있는건지 아닌지(thread pool)를 판단해서 비동기 함수를 처리한다 
> 3. 비동기 작업을 처리하고 콜백함수를 호출한다

# 7. event Looop
Node js  가 비동기 작업을 관리하기 위한 구현체 

# 노드 js event emitter 

bakcend 에서도 event -driven 시스템을 사용한다 

## Observer Design Pattern 
event-driven시스템사용하는것 
이 패턴에는 특정 Subject를 관찰하는 많은 Observer가 있습니다.  
관찰자는 기본적으로 Subject에 관심이 있고 해당 주제 내부에 변경 사항이 있을 때 알림을 받기를 원합니다.  
그래서 그들은 그 주제에 스스로를 등록(Register)합니다.  
주제에 대한 관심을 잃으면 단순히 해당 주제에서 등록을 취소합니다. 때때로 이 모델은 게시자-구독자 모델이라고도 한다 

예를 들어, 트위터 팔로워가 많은 유명인을 생각할 수 있습니다. 이 팔로워들 각각은 자신이 좋아하는 유명인의 최신 업데이트를 모두 받고 싶어 합니다. 따라서 관심이 지속되는 한 유명인을 팔로우할 수 있습니다. 그가 흥미를 잃으면 그는 단순히 그 유명인을 따르는 것을 중단합니다. 여기서 우리는 추종자를 관찰자(Observer)로, 유명인을 주체(Subject)로 생각할 수 있습니다.

